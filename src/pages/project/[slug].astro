---
import type { GetStaticPaths } from "astro";
import { getCollection, type CollectionEntry } from 'astro:content';
import Sidebar from '../../components/Sidebar.astro';
import Layout from "../../layouts/Layout.astro"
import { ViewTransitions } from "astro:transitions";

export const getStaticPaths =  async () => {
    const projects = await getCollection('project');
    const paths = projects.map(project => {
      return {params:{slug: project.slug}, props: { project}}
    })  
    return paths;
}


type Props = {
  project: CollectionEntry<"project">;
}


const anim = {
	old: {
	  name: 'test',
	  duration: '0.2s',
	  easing: 'linear',
	  fillMode: 'forwards',
	},
	new: {
	  name: 'test-reversed',
	  duration: '0.3s',
	  easing: 'linear',
	  fillMode: 'backwards',
	}
  };
  
  const myFade = {
	forwards: anim,
	backwards: anim,
  };


const canonicalURL = new URL(Astro.url);
const { project } = Astro.props;
const { Content } = await project.render();


---

<Layout title = "Project Name">
	<Sidebar selected = "project"></Sidebar>
	<div class = "main-content pageTransitionIn "transition:animate={myFade}>
		<img src = {project.data.image} style = "border-radius: 15px; width: 70%; height: auto; margin-top: 20px;">
		
		<div style = "display:flex; flex-direction:column; width: 90%;font-size: 1.25rem;">
			<div style = "display: flex; flex-direction: row; justify-content: space-around">
				<div>
					<div>
						<h3 style = "margin-bottom: 0px;">Platform</h3>
						{project.data.platform}
					</div>
					<div>
						<h3 style = "margin-bottom: 0px;">Tools Used</h3>
						{project.data.tools}
					</div>
					<div>
						<h3 style = "margin-bottom: 0px;">Duration</h3>
						{project.data.duration}
					</div>
					<div>
						<h3 style = "margin-bottom: 0px;">Team Size</h3>
						{project.data.teamSize}
					</div>
					<div>
						<h3 style = "margin-bottom: 0px;">Role</h3>
						{project.data.role}
					</div>
				</div>
				<div style = "max-width: 40%; ">
					<h3>Project Overview</h3>
					{project.data.overview}
				</div>
			</div>
		</div>
		<Content></Content>
	</div>
</Layout>